/*! angular-retina - v0.3.12 - 2016-03-23
* https://github.com/jrief/angular-retina
* Copyright (c) 2016 Jacob Rief; Licensed MIT */
!function(a,b){"use strict";function c(a){return new RegExp(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i).test(a)}var d="@2x",e=/^data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/,f=/(png|jp[e]?g)$/,g=!1,h=a.noop,i=a.module("ngRetina",[]).config(["$provide",function(a){a.decorator("ngSrcDirective",["$delegate",function(a){return a[0].compile=function(a,b){},a}])}]);i.provider("ngRetina",function(){this.setInfix=function(a){d=a},this.setFadeInWhenLoaded=function(a){g=a},this.setLoadErrorHandler=function(a){h=a},this.$get=a.noop}),i.directive("ngSrc",["$window","$http","$log",function(b,i,j){function k(a){var b=a.split(".");return b.length<2?a:(b[b.length-2]+=d,b.join("."))}var l=parseInt((/msie (\d+)/.exec(b.navigator.userAgent.toLowerCase())||[])[1],10),m=function(){var a="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return b.devicePixelRatio>1?!0:b.matchMedia&&b.matchMedia(a).matches}();return function(d,n,o){function p(a){n.on("error",h),o.$set("src",a),l&&n.prop("src",a)}function q(a){var c;try{c=b.sessionStorage.getItem(a)}catch(d){j.warn("sessionStorage not supported"),c=a}return c}function r(a,c){try{b.sessionStorage.setItem(a,c)}catch(d){j.warn("sessionStorage not supported")}}function s(b){var c;c=a.isUndefined(o.at2x)?q(b):o.at2x,c?p(c):(c=k(b),i.head(c).success(function(a,d){p(c),r(b,c)}).error(function(a,c,d,e){p(b),r(b,b)}))}o.$observe("ngSrc",function(b,d){if(b){if(c(b))return p(b);g&&!q("fadedIn-"+b)&&(n.css({opacity:0,"-o-transition":"opacity 0.5s ease-out","-moz-transition":"opacity 0.5s ease-out","-webkit-transition":"opacity 0.5s ease-out",transition:"opacity 0.5s ease-out"}),n.on("load",function(){r("fadedIn-"+b,!0),n.css("opacity",1)})),m&&a.isUndefined(o.noretina)&&"IMG"===n[0].tagName&&b.match(f)&&!b.match(e)?s(b):p(b)}})}}])}(window.angular);